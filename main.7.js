function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=n(55);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||s.isValidElement(e))return n(i,e,""===t?c+r(e,0):t),1;var p,h,m=0,g=""===t?c:t+d;if(Array.isArray(e))for(var _=0;_<e.length;_++)p=e[_],h=g+r(p,_),m+=o(p,h,n,i);else{var v=u(e);if(v){var y,b=v.call(e);if(v!==e.entries)for(var x=0;!(y=b.next()).done;)p=y.value,h=g+r(p,x++),m+=o(p,h,n,i);else for(;!(y=b.next()).done;){var w=y.value;w&&(p=w[1],h=g+l.escape(w[0])+d+r(p,0),m+=o(p,h,n,i))}}else if("object"===f){var k="",M=String(e);a("31","[object Object]"===M?"object with keys {"+Object.keys(e).join(", ")+"}":M,k)}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=n(20),s=(n(99),n(80)),u=n(545),l=(n(16),n(276)),c=(n(23),"."),d=":";e.exports=i},function(e,t,n){"use strict";var r=(n(36),n(74)),o=(n(23),r);e.exports=o},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!o.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=r},function(e,t){"use strict";t.createdStores=[],t.createdActions=[],t.reset=function(){for(;t.createdStores.length;)t.createdStores.pop();for(;t.createdActions.length;)t.createdActions.pop()}},function(e,t,n){"use strict";var r=n(82);e.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(e,t){t=t||this;var n=function(n){o||e.apply(t,n)},r=this,o=!1;return this.emitter.addListener(this.eventLabel,n),function(){o=!0,r.emitter.removeListener(r.eventLabel,n)}},trigger:function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:r.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},triggerAsync:function(){var e=arguments,t=this;r.nextTick(function(){t.trigger.apply(t,e)})},deferWith:function(e){var t=this.trigger,n=this,r=function(){t.apply(n,arguments)};this.trigger=function(){e.apply(n,[r].concat([].splice.call(arguments,0)))}}}},function(e,t,n){var r=n(82),o=n(114);e.exports=r.extend({componentWillUnmount:o.stopListeningToAll},o)},function(e,t,n){function r(){}function o(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=d.stringify(e.data)),c("encoded %j as %s",e,n),n}function i(e,t){function n(e){var n=p.deconstructPacket(e),r=o(n.packet),i=n.buffers;i.unshift(r),t(i)}p.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return l();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var o="";"-"!=e.charAt(++r)&&(o+=e.charAt(r),r!=e.length););if(o!=Number(o)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var i=e.charAt(r);if(","==i)break;if(n.nsp+=i,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var i=e.charAt(r);if(null==i||Number(i)!=i){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}if(e.charAt(++r))try{n.data=d.parse(e.substr(r))}catch(s){return l()}return c("decoded %s as %j",e,n),n}function u(e){this.reconPack=e,this.buffers=[]}function l(e){return{type:t.ERROR,data:"parser error"}}var c=n(89)("socket.io-parser"),d=n(1183),f=(n(187),n(165)),p=n(1182),h=n(565);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){if(c("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)i(e,n);else{var r=o(e);n([r])}},f(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},79,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(311),a=r(i),s=n(50),u=r(s),l=n(144),c=r(l),d=n(1),f=r(d),p=n(46),h=(r(p),n(1188)),m=r(h),g=(n(25),n(15)),_=r(g),v=n(18),y=(r(v),n(17)),b=(r(y),n(581)),x=r(b),w=n(12),k=r(w),M=n(26),E=r(M),T=n(27),C=(r(T),n(38)),S=r(C),L=n(11),P=r(L),D=(n(72),n(2),n(44)),O=n(90),A=f.default.createClass((o={displayName:"ActivityPage",mixins:[E.default.ListenerMixin],getInitialState:function(){return{dataActivity:this.getActivityStore().items(),dataActivityFull:this.getActivityFullStore().items(),isRefreshingActivity:this.getActivityStore().sn(),dataMyInfo:this.getMyInfoStore().items(),jqId:D.v1()}},getMyInfoStore:function(){return S.default.Ht("myinfo")},componentWillMount:function(){},onStatusChange:function(e){if(e.dataMyInfo){var t=e.dataMyInfo.unread_activity_count||0;this.lastActivityUnread!=t&&this.getActivityStore().Zt(),this.lastActivityUnread=t||0}e.dataActivity&&(this.markedRead={}),this.setState(e)},componentWillReceiveProps:function(e){var t=this;window.isNewLocationActivity&&(window.isNewLocationActivity=!1,window.dontMoveActivityTop?window.dontMoveActivityTop=!1:!function(){var e=t.state.jqId;setTimeout(function(){(0,_.default)("#root_"+e).scrollTop(0)},0)}())},componentDidMount:function(){var e=this;window.isNewLocationActivity&&(window.isNewLocationActivity=!1,window.dontMoveActivityTop?window.dontMoveActivityTop=!1:!function(){var t=e.state.jqId;setTimeout(function(){(0,_.default)("#root_"+t).scrollTop(0)},0)}()),this.unsubscribeMyInfo=this.getMyInfoStore().dn(this.onStatusChange,!0),this.unsubscribeProfile=this.getActivityStore().dn(this.onStatusChange,!0),this.unsubscribeActivityFull=this.getActivityFullStore().dn(this.onStatusChange,!0)},componentWillUnmount:function(){this.getMyInfoStore().pn(this.unsubscribeMyInfo),this.getActivityStore().pn(this.unsubscribeProfile),this.getActivityFullStore().pn(this.unsubscribeActivityFull)},shouldComponentUpdate:function(e,t){return(0,c.default)(t.dataActivity)!=(0,c.default)(this.state.dataActivity)&&setTimeout(function(){this.getActivityFullStore().Zt()}.bind(this),0),!0},componentDidUpdate:function(e,t){}},(0,a.default)(o,"getMyInfoStore",function(){return S.default.Ht("myinfo")}),(0,a.default)(o,"getActivityStore",function(){return S.default.Ht("activity")}),(0,a.default)(o,"getActivityFullStore",function(){return S.default.Ht("activityFull")}),(0,a.default)(o,"calcCountUnread",function(e){var t=this.state.dataMyInfo;if(t&&t.my_info){var n=t.my_info;if(n[e]&&P.default.isNumber(n[e]))return n[e]}return 0}),(0,a.default)(o,"onNeedLoadMore",function(){var e=this.getActivityStore();e.sn(this.state)||(e.showCount+=k.default.pe,e.rn()||this.forceUpdate())}),(0,a.default)(o,"markedRead",{}),(0,a.default)(o,"onMarkReadOne",function(e){e&&(this.markedRead[e]=new Date,this.forceUpdate())}),(0,a.default)(o,"render",function(){var e=this.props.feedWidth||k.default.te,t=0,n=this.state.dataActivityFull;n&&P.default.isNumber(n.unread_count)&&(t=n.unread_count);var r=this.props.isRecent,o=0,i=null;if(this.state.dataActivity)for(var a in this.state.dataActivity){var s=this.state.dataActivity[a];if(i||(i=[]),i.push(f.default.createElement(x.default,{lastMarkedRead:this.markedRead[s.encoded_activity_id||s.activity_id||"a"],onMarkRead:this.onMarkReadOne,data:s,width:e,key:"activity_"+(s.activity_id||D.v1()),onItemClick:this.props.onItemClick})),o++,o>=this.getActivityStore().showCount)break}var l={position:"relative",backgroundColor:"white",zIndex:100};return r||P.default.extend(l,{position:"absolute",top:"1px",height:"auto",zIndex:200,left:"50%",marginLeft:k.default._e(0)-(0,u.default)((e-k.default.ae)/2)+k.default.Z+"px",marginTop:26+k.default.ue+"px",marginBottom:"50px"}),f.default.createElement("div",{id:"root_"+this.state.jqId,ref:"root",className:m.default.root,style:l},!r&&this.props.buttonText&&this.props.buttonClick&&f.default.createElement("div",{style:{backgroundColor:this.props.fullBackColor||"",margin:"0 auto 0 auto",paddingBottom:"16px"}},f.default.createElement("span",{className:m.default.topButton,onClick:this.props.buttonClick},this.props.buttonText)),f.default.createElement("div",{className:m.default.overflowHidden,id:"act_"+this.state.jqId,style:{position:"relative"}},f.default.createElement("div",{className:"activities",style:{position:"relative",width:e+"px",height:"auto"}},!r&&f.default.createElement("div",{style:{fontSize:"13px",fontWeight:700,paddingBottom:"9px",paddingTop:"10px",backgroundColor:"#eef1f7",textAlign:"left",paddingLeft:"14px",color:"#465164"}},f.default.createElement("span",{style:{position:"relative"}},f.default.createElement("span",null,"YOUR ACTIVITY"),!1)),f.default.createElement("div",{style:{position:"relative"}},!1,i,!this.state.isRefreshingActivity&&i&&this.getActivityStore().hn()&&f.default.createElement(O,{ref:"loadMore",onEnter:this.onNeedLoadMore})))))}),o));t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),i=r(o),a=n(29),s=r(a),u=n(30),l=r(u),c=n(32),d=r(c),f=n(31),p=r(f),h=n(1),m=r(h),g=n(46),_=(r(g),n(1204)),v=r(_),y=n(49),b=(r(y),n(52)),x=(r(b),n(25)),w=n(15),k=(r(w),n(12)),M=r(k),E=n(17),T=r(E),C=n(21),S=r(C),L=n(18),P=r(L),D=n(11),O=n(61),A=n(264),N=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(0,i.default)(t).call(this,e));return n.state={},n}return(0,p.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){}},{key:"onClickSkipOrJoin",value:function(e,t){var n=this.props.data;if(n){var r=n.encoded_group_id,o=S.default.Dt(r),i=new T.default;i.Se(o,e,function(t,n){this.props.onSkipOrJoin&&this.props.onSkipOrJoin(r,e)}.bind(this))}}},{key:"onClickMain",value:function(e){var t=this.props.data;t&&t.encoded_group_id&&P.default.push("/group/"+t.encoded_group_id)}},{key:"render",value:function(){var e=this.props.data;if(!e)return m.default.createElement("div",{style:{padding:"10px"}},"No data error!");var t=this.props.width,n=113,r=e.about?O(e.about):"";if(""!=r&&(r+="<br/>"),e.tags&&e.tags.length>0){r+='<div style="margin-top: 7px; line-height: 20px;">Tags: ';for(var o in e.tags){var i=e.tags[o];i&&""!=i&&(r+='<span style="padding: 1px 5px 2px 5px; background-color: rgba(255,255,255,0.2); border-radius: 3px;">'+O(i)+"</span> ")}r+="</div>"}r=D.trim(r);var a=1==e.friend_created,s=this.props.isGrid,u={};s&&(u.float="left",u.marginRight="16px");var l=52;return m.default.createElement("div",{style:u},m.default.createElement(x.OverlayTrigger,{placement:"right",overlay:m.default.createElement(x.Tooltip,{id:"tooltip"},m.default.createElement("span",{dangerouslySetInnerHTML:{__html:r}}))},m.default.createElement("div",{className:v.default.groupdiv,style:{position:"relative",width:t+"px",borderRadius:"8px",fontSize:"11px",fontWeight:100,border:"1px solid #DCDCDC",cursor:"pointer"},onClick:this.onClickMain.bind(this)},m.default.createElement("div",{style:{height:n+"px",position:"relative"}},m.default.createElement("div",{style:{borderTopLeftRadius:"7px",borderTopRightRadius:"7px",background:'#ffffff url("'+(e.thumb_url||e.source_url)+'") no-repeat left center',backgroundSize:t-2+"px",position:"relative",height:n+"px",marginBottom:"10px"}})),m.default.createElement("img",{src:M.default.X,width:"1px",height:l+"px",alt:""}),m.default.createElement("div",{className:v.default.groupdiv,style:{minHeight:l+"px",position:"absolute",left:0,right:0,bottom:0}},m.default.createElement("div",{style:{fontWeight:400,padding:"3px 2px 2px 2px"}},m.default.createElement(A,{search:this.props.searchValue},e.group_name)),a&&m.default.createElement("div",{style:{fontSize:"10px",fontWeight:400,paddingBottom:"3px"}},m.default.createElement("span",{style:{padding:"1px 5px 2px 5px",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"3px"}},"Created by Friend")),m.default.createElement("div",{style:{fontSize:"10px"}},"Members: ",e.num_members||0),m.default.createElement("div",{style:{fontSize:"10px",marginBottom:"5px"}},"Posts: ",e.num_posts||0)))),1==this.props.showSkipJoin&&m.default.createElement("div",{style:{marginTop:"7px",position:"relative",overflow:"auto"}},m.default.createElement("div",{style:{"float":"left"},className:v.default.groupbutton,onClick:this.onClickSkipOrJoin.bind(this,!1)},"skip"),m.default.createElement("div",{style:{"float":"right"},className:v.default.groupbutton,onClick:this.onClickSkipOrJoin.bind(this,!0)},"join")),m.default.createElement("div",{style:{padding:"1px 0 5px 0"}},m.default.createElement("img",{style:{backgroundColor:"#EFEFEF"},src:M.default.X,width:t-8+"px",height:"1px",alt:""})))}}]),t}(h.Component);N.propTypes={width:h.PropTypes.number.isRequired,data:h.PropTypes.object.isRequired},t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),i=r(o),a=n(1),s=r(a),u=n(1208),l=r(u),c=(n(25),n(15)),d=r(c),f=n(18),p=r(f),h=n(17),m=r(h),g=n(204),_=r(g),v=n(12),y=r(v),b=n(27),x=(r(b),n(26)),w=r(x),k=n(11),M=r(k),E=n(21),T=r(E),C=n(143),S=r(C),L=n(162),P=r(L),D=n(4),O=r(D),A=n(38),N=r(A),I=n(101),Y=r(I),R=s.default.createClass({displayName:"GroupsSkipAndJoin",mixins:[w.default.ListenerMixin],getInitialState:function(){return{suggestedChecked:"foryou"==this.props.typeName,dataRes:this.props.signupGroups||null,isRefreshing:!1,isShowingGrid:!1,indexGroup:0}},componentWillReceiveProps:function(e){!e.signupGroups||this.state.dataRes&&0!=this.state.dataRes.length||this.setState({dataRes:e.signupGroups})},componentWillMount:function(){},componentDidMount:function(){this.isAlreadyMounted=!0,this.client=new m.default,this.refresh()},shouldComponentUpdate:function(e,t){if((this.state.suggestedChecked!=t.suggestedChecked||this.props.typeName!=e.typeName)&&this.isAlreadyMounted){var n="foryou"==e.typeName;(t.suggestedChecked||this.state.suggestedChecked)!=n&&this.setState({suggestedChecked:n}),setTimeout(function(){this.refresh()}.bind(this),0)}return!0},onChangeSearchValue:function(e){this.setState({searchValue:e.target.value})},refresh:function(){if(!this.props.isSignup){this.setState({isRefreshing:!0,dataRes:null,showHelperForYou:!1});var e=function(e,t){if(e&&console.log("Error suggested groups: "+e),this.state.suggestedChecked==this.expectSuggested)if(!e&&t&&1==t.success){if((!t.groups||0==t.groups.length)&&"foryou"==this.props.typeName)return void(1!=T.default.Rt("force")?p.default.push("/groups/discover"):this.setState({showHelperForYou:!0,isRefreshing:!1,dataRes:null}));N.default.Ht("myinfo").Zt(),this.setState({showHelperForYou:!1,isRefreshing:!1,dataRes:t.groups})}else this.setState({showHelperForYou:!1,isRefreshing:!1,dataRes:null})}.bind(this);this.expectSuggested=this.state.suggestedChecked,this.client.je(this.state.suggestedChecked,!this.state.suggestedChecked,!1,e)}},onChangeSuggestedCheck:function(e){this.setState({suggestedChecked:e.target.checked})},doJoinSure:function(e){e&&this.callJoinOk&&M.default.isFunction(this.callJoinOk)&&this.callJoinOk()},onClickSkipOrJoin:function(e,t,n){e&&T.default.vt(t)?(this.callJoinOk=this.doClickSkipOrJoin.bind(this,e,t,n),this.refs.modalJoinSure.open()):this.doClickSkipOrJoin(e,t,n)},doClickSkipOrJoin:function(e,t,n){var r=t;if(r){this.props.onJoinOrSkip&&this.props.onJoinOrSkip(e,t);var o=r.encoded_group_id,i=T.default.Dt(o),a=new m.default;a.Se(i,e,function(t,n){t||this.onSkipOrJoinDone(o,e)}.bind(this))}},onSkipOrJoinDone:function(e,t){var n=function(){this.props.isSignup?window.location.href="/":p.default.push("/groups/discover")}.bind(this),r=this.state.dataRes;return r&&0==r.length?void(this.props.isSignup?window.location.href="/":n()):(r=r.filter(function(t){return t.encoded_group_id!=e}),void this.doAnimation(t,function(){this.setState({dataRes:r}),0==r.length&&n()}.bind(this)))},doAnimation:function(e,t){var n=(0,d.default)("#g1");if(!n)return void t();var r=250;e?n.find(".imgJoin").css("opacity",1):n.find(".imgSkip").css("opacity",1),n.addClass(e?l.default.flicked_right:l.default.flicked_left),setTimeout(function(){t()}.bind(this),r)},onShowingGrid:function(e){this.setState({isShowingGrid:e})},rotateLeft:function(e,t){var n=this.state.indexGroup;this.setState({indexGroup:n+e})},render:function(){var e=this.props.isSignup,t=(this.props.feedWidth||y.default.ae,null),n=null,r=null,o=this.state.dataRes,a=function(e){return e>=0&&e<o.length?o[e]:null};if(o){var u=this.state.indexGroup||0;t=a(u)}var c=function(t,n,r){var o={cursor:r||"default",position:"absolute",left:"50%",marginLeft:"-"+((0,i.default)((n||y.default.de)/2)+t)+"px",top:e?"8px":"30px"};if(n&&(o.width=n+"px"),0!=t){var a="scale(0.92)";o.MsTransform=a,o.WebkitRransform=a,o.transform=a,o.opacity=.85}return o},d=64;return s.default.createElement("div",{ref:"root",className:l.default.root,style:{position:"relative",margin:(e?"4px":"70px")+" auto 0 auto",zIndex:500}},!e&&s.default.createElement("div",{style:{paddingBottom:"14px"}},s.default.createElement(Y.default,{ref:"modalJoinSure",yesText:"View",noText:"Cancel",title:"Are you sure?",onClickResp:this.doJoinSure},y.default.me),s.default.createElement(P.default,{isSuggested:!0,onShowingGrid:this.onShowingGrid})),!this.state.isShowingGrid&&s.default.createElement("div",null,!e&&s.default.createElement("div",{style:M.default.extend(c(0,y.default.de+2*d),{position:"relative",paddingBottom:"25px"})},s.default.createElement("table",{style:{margin:"0 auto 0 auto"}},s.default.createElement("tbody",null,s.default.createElement("tr",null,s.default.createElement("td",null,s.default.createElement(S.default,{isSelected:this.state.suggestedChecked,name:"For You",path:"/groups/foryou?force=1",height:44})),s.default.createElement("td",null,s.default.createElement("img",{src:y.default.X,width:"120px",height:"1px"})),s.default.createElement("td",null,s.default.createElement(S.default,{isSelected:!this.state.suggestedChecked,name:"Discover",path:"/groups/discover",height:44})))))),this.state.isRefreshing&&s.default.createElement("div",{style:{textAlign:"center",padding:"10px 0 10px 0"}},"Refreshing..."),!e&&this.state.showHelperForYou&&s.default.createElement("div",{style:{margin:"12px 0 0 0",textAlign:"center"}},s.default.createElement("img",{src:"/imgs/discoverClick.png",width:"260px"})),s.default.createElement("div",{style:{position:"relative",cursor:"default",height:y.default.fe+"px",left:"50%",marginLeft:-(y.default.de/2+2*d/2)+"px",width:y.default.de+2*d+"px"}},!this.props.isSignup&&o&&this.state.indexGroup>0&&s.default.createElement("div",{onClick:this.rotateLeft.bind(this,-1),className:l.default.sidesButtonL,style:{position:"absolute",left:"-50px",top:y.default.fe/2-25+"px",width:"40px",height:"50px",fontSize:"20px",padding:"9px 0 0 10px"}},s.default.createElement("i",{className:"fa fa-chevron-left"})),!this.props.isSignup&&n&&s.default.createElement("div",{onClick:this.rotateLeft.bind(this,1),className:l.default.sidesButtonR,style:{position:"absolute",right:"-50px",top:y.default.fe/2-25+"px",width:"40px",height:"50px",fontSize:"20px",padding:"9px 0 0 10px"}},s.default.createElement("i",{className:"fa fa-chevron-right"})),n&&s.default.createElement(_.default,{id:"gr",noClick:!0,style:c(-d),noFloat:!0,searchValue:"",showSkipJoin:!1,data:n,width:null,key:"group_"+n.encoded_group_id,onSkipOrJoin:this.onSkipOrJoinGroupOne}),r&&s.default.createElement(_.default,{id:"gl",noClick:!0,style:c(d),noFloat:!0,searchValue:"",showSkipJoin:!1,data:r,width:null,key:"group_"+r.encoded_group_id,onSkipOrJoin:this.onSkipOrJoinGroupOne}),t&&s.default.createElement(_.default,{id:"g1",className:(0,O.default)(l.default.group_card),noClick:e,style:c(0,null,"pointer"),noFloat:!0,searchValue:"",showSkipJoin:!1,data:t,width:null,key:"group_"+t.encoded_group_id,onSkipOrJoin:this.onSkipOrJoinGroupOne})),t&&s.default.createElement("div",{style:M.default.extend(c(0,y.default.de+2*d),{position:"relative",paddingTop:"35px"})},s.default.createElement("div",{className:l.default.button_skip,style:{"float":"left"},onClick:this.onClickSkipOrJoin.bind(this,!1,t)},s.default.createElement("div",{style:{margin:"14px 0 0 "+(e?"1px":"74px")}},"skip")),s.default.createElement("div",{className:l.default.button_join,style:{"float":"right"},onClick:this.onClickSkipOrJoin.bind(this,!0,t)},s.default.createElement("div",{style:{margin:"14px 0 0 "+(e?"3px":"77px")}},"join")))))}});t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(1214),s=(r(a),n(12)),u=(r(s),n(18)),l=(r(u),n(26)),c=(r(l),n(21)),d=r(c),f=n(17),p=(r(f),n(4)),h=(r(p),n(11)),m=(r(h),n(15),i.default.createClass({displayName:"HomeUserinfo",getInitialState:function(){return{}},componentDidMount:function(){},componentWillUnmount:function(){},render:function(){var e=this.props.data||{},t=e,n=d.default.kt(t.icon_color),r="rgba("+n.r+","+n.g+","+n.b+",0.3)";return i.default.createElement("div",{className:"user_post_info"},i.default.createElement("div",{className:"icon "+t.icon_color,style:{background:this.props.no_color?"url('/imgs/animals/"+t.icon_name+((t.icon_name||"").indexOf(".png")==-1?".png":"")+"'), rgba(255, 255, 255, .5)":"linear-gradient("+r+", "+r+"), url('/imgs/animals/"+t.icon_name+((t.icon_name||"").indexOf(".png")==-1?".png":"")+"')"}}),i.default.createElement("div",{className:"user_info"},i.default.createElement("div",{className:"name",style:{color:this.props.comment?t.icon_color:""}},t.user?t.user.user_name:t.user_name),i.default.createElement("div",{className:"time"},t.post_time_ago?t.post_time_ago:t.comment_time_ago?t.comment_time_ago:null),i.default.createElement("div",{className:"clear"})))}}));t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(164),i=r(o),a=n(50),s=r(a),u=n(28),l=r(u),c=n(29),d=r(c),f=n(30),p=r(f),h=n(32),m=r(h),g=n(31),_=r(g),v=n(1),y=r(v),b=n(1217),x=r(b),w=n(44),k=r(w),M=n(11),E=(r(M),{}),T=function(e){function t(e){(0,d.default)(this,t);var n=(0,m.default)(this,(0,l.default)(t).call(this,e));return n.state={uuid:k.default.v1()},n}return(0,_.default)(t,e),(0,p.default)(t,[{key:"onLoadImg",value:function(){var e=this.props.data||{};if(e&&!(e.width&&e.height&&this.props.width||E[e.source_url])){var t=$("#img_"+this.state.uuid);E[e.source_url]={height:t.height()},this.props.onChangeHeight&&this.props.onChangeHeight()}}},{key:"render",value:function(){var e=this.props.data||{},t={};this.props.inPost&&(t.href=e.final_link_url);var n={width:"100%"},r=!1;if(e.width&&e.height&&this.props.width){var o=(0,s.default)(this.props.width/e.width*e.height);o&&(n.height=o+"px",r=!0)}var a=E[e.source_url];if(a){var o=a.height;o&&(n.height=o+"px",r=!0)}return y.default.createElement("div",{className:x.default.link_contents,style:{textAlign:"left",border:this.props.inPost?"none":"1px solid #98a3a6",width:"100%"}},y.default.createElement("a",(0,i.default)({},t,{target:"_blank"}),e.source_url&&"null"!==e.source_url&&y.default.createElement("img",{id:"img_"+this.state.uuid,src:e.source_url,style:n,onLoad:r?null:this.onLoadImg.bind(this)})),y.default.createElement("div",{style:{padding:"10px",background:"#fff",color:"#000"}},y.default.createElement("div",{style:{fontSize:"16px",fontWeight:300,marginBottom:"5px"}},e.title),y.default.createElement("p",{style:{fontSize:"12px",marginBottom:"5px",fontWeight:300}},e.description),y.default.createElement("a",{href:e.final_link_url,target:"_blank",style:{fontWeight:300,fontSize:"12px",textTransform:"uppercase"}},e.attribution_url.replace(/.*?:\/\//g,""))))}}]),t}(y.default.Component);t.default=T},function(e,t,n){"use strict";var r,o=n(488),i=n(48),a=i.animateScroll,s={},u=n(196),l=n(11);e.exports={unmount:function(){s=[]},register:function(e,t){s[e]=t},unregister:function(e){delete s[e]},get:function(e){var t=s[e]||document.getElementById(e);return!t&&document.getElementsByName&&(t=document.getElementsByName(e),t&&!l.isElement(t)&&(t=t.length&&t.length>0?t[0]:null)),t},setActiveLink:function(e){r=e},getActiveLink:function(){return r},isVisible:function(e){var t=window.innerHeight,n=e.getBoundingClientRect(),r=n.top>=0&&n.top<t,o=n.bottom>0&&n.bottom<=t,i=r||o;return i},scrollTo:function(e,t){var n=this.get(e);if(!n)throw new Error("target Element not found");if(!this.isVisible(n)){t=o({},t,{absolute:!1}),u.registered.begin&&u.registered.begin(e,n);var r,i=t.containerId,s=i?document.getElementById(i):null;if(i&&s){if(t.absolute=!0,s!==n.offsetParent)throw s.contains(n)?new Error("Container with ID "+i+" is not a positioned element"):new Error("Container with ID "+i+" is not a parent of target "+e);r=n.offsetTop}else{var l=n.getBoundingClientRect();document.body.getBoundingClientRect();r=l.top}return r+=t.offset||0,t.smooth?void a.animateTopScroll(r,t,e,n):(i&&s?s.scrollTop=r:window.scrollTo(0,r),void(u.registered.end&&u.registered.end(e,n)))}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(4),s=(r(a),n(1227)),u=(r(s),n(12)),l=(r(u),n(27)),c=r(l),d=n(26),f=r(d),p=n(17),h=(r(p),n(25),n(38)),m=r(h),g=n(11),_=(r(g),i.default.createClass({displayName:"TagsSelector",mixins:[f.default.ListenerMixin],getInitialState:function(){return{dataSignupSplash:this.getSplashStore().items(),dataMyInfo:this.getMyInfoStore().items(),tags:this.props.value||[]}},componentDidMount:function(){this.isAlreadyMounted=!0,this.props.isSignup||(this.unsubscribeProfile=this.getMyInfoStore().listen(this.onStatusChange),this.getMyInfoStore().Xt()),this.unsubscribeSplash=this.getSplashStore().dn(this.onStatusChange)},componentWillUnmount:function(){!this.props.isSignup&&this.unsubscribeProfile&&this.unsubscribeProfile(),this.getSplashStore().pn(this.unsubscribeSplash)},getSplashStore:function(){return m.default.Ht("signupSplash")},getMyInfoStore:function(){return m.default.Ht("myinfo")},onStatusChange:function(e){this.setState(e)},onClickSelectTag:function(e,t){var n=this.state.tags;return n||(n=[]),t&&this.props.max&&n.length==this.props.max?void c.default.addNotification("You can only add "+this.props.max+" tags","error"):(t?n.indexOf(e)==-1&&n.push(e):n=n.filter(function(t){return t.toLowerCase()!=e.toLowerCase()}),this.setState({tags:n}),void(this.props.onChange&&this.props.onChange(n)))},render:function(){var e=this.props.isSignup,t=null;if(e){var n=this.state.dataSignupSplash||{};t=this.props.under18?n.under_18_tags:n["18_plus_tags"]}else{var n=this.state.dataMyInfo||{};t=n.group_tags}var r=null;if(t&&t.length>0)for(var o in t){var a=t[o];r||(r=[]);var s=this.state.tags&&this.state.tags.filter(function(e){return e.toLowerCase()==a.toLowerCase()}).length>0;r.push(i.default.createElement("span",{key:"tag_"+a,onClick:this.onClickSelectTag.bind(this,a,!s),style:{position:"relative",padding:"3px 8px 3px 8px",fontSize:"14px",backgroundColor:s?"#f8971d":"white",color:s?"white":"black",cursor:"pointer",border:s?"1px solid #f8971d":"1px solid gray",marginRight:"12px",marginBottom:"8px",display:"inline-block"}},i.default.createElement("table",{cellPadding:"0",cellSpacing:"0"},i.default.createElement("tbody",null,i.default.createElement("tr",null,e&&i.default.createElement("td",null,i.default.createElement("img",{src:"/imgs/tag_"+a+"@2x.png",alt:"",width:"20px",style:{maxHeight:"22px"}})),i.default.createElement("td",{style:{paddingLeft:e?"4px":""}},a))))))}return i.default.createElement("div",{style:{position:"relative",textAlign:"center"}},r,i.default.createElement("div",{style:{clear:"both"}}))}}));t.default=_},function(e,t,n){e.exports={"default":n(625),__esModule:!0}},function(e,t,n){e.exports={"default":n(316),__esModule:!0}},function(e,t,n){e.exports={"default":n(629),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=n(310),i=r(o);t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){var t={},n=arguments[1];if("string"==typeof n){n={};for(var r=1;r<arguments.length;r++)n[arguments[r]]=!0}for(var o in e)n[o]||(t[o]=e[o]);return t}},function(e,t,n){(function(e,r){/*!
